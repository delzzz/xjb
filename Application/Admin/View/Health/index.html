<extend name="Public/base"/>

<block name="body">
    <div class="right_col" role="main">
        <div class="page-title">
            <div class="title_left" style="">
                <h3>健康监控</h3>
            </div>
        </div>
        <div class="page-title">
            <div class="title_left" style="width: 50%; line-height: 2.5">
                <label class="control-label col-md-2 col-sm-2 col-xs-12 text-right">老人姓名:</label>

                <div class="col-md-4 col-sm-4 col-xs-4">
                    <div class="">
                        <input type="text" class="form-control" placeholder="输入姓名">
                    </div>
                </div>
                <!--<label class="control-label col-md-2 col-sm-2 col-xs-12 text-right">状态:</label>-->

                <!--<div class="col-md-4 col-sm-4 col-xs-4">-->
                    <!--<select class="form-control">-->
                        <!--<option value="所有">所有</option>-->
                        <!--<option value="执行中">执行中</option>-->
                        <!--<option value="已关闭">已关闭</option>-->
                    <!--</select>-->
                <!--</div>-->
            </div>
        </div>
        <br>
        <br>
        <br>

        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
                <div class="x_title"></div>
                <div class="x_content">
                    <div class=""></div>
                    <div class="table-responsive">
                        <table class="table table-striped jambo_table bulk_action">
                            <thead>
                            <tr class="headings">
                                <th class="column-title">老人姓名</th>
                                <th class="column-title">设备号</th>
                                <th class="column-title">呼吸测量数据</th>
                                <th class="column-title">心率测试数据</th>
                                <th class="column-title">睡眠质量</th>
                                <th class="column-title">测试时间</th>
                                <th class="column-title">操作</th>
                            </tr>
                            </thead>
                            <volist name="list" id="l">
                                <tr class="even pointer">
                                    <th class="column-title">{$l.peopleName}</th>
                                    <th class="column-title">{$l.device_str}</th>
                                    <th class="column-title">{$l.dataBreathValue}</th>
                                    <th class="column-title">{$l.dataHeartbeatValue}</th>
                                    <th class="column-title"></th>
                                    <th class="column-title">{:time_format($l['measureTime']/1000,'Y-m-d')}</th>
                                    <td class="pointer">
                                        <a class="lay" data-toggle="modal" data-id="{$l.peopleId}"
                                           data-target="#myModal">历史数据</a>
                                    </td>
                                </tr>
                            </volist>
                        </table>
                    </div>
                    <div class="col-sm-12">
                        {$_page}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" style="" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" style="width: 80%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h3 class="modal-title" id="myModalLabel">历史数据</h3>
                </div>
                <div class="x_panel">
                    <div class="bd-list" style="">
                        <div class="text-center pull-left bd-box" style="border-right: none;">呼吸测量</div>
                        <div class="text-center pull-left bd-box" style="border-right: none;">心率测量</div>
                        <div class="border-dark text-center pull-left bd-box" style="">睡眠质量</div>
                    </div>
                    <div class="x_content col-md-6 col-sm-6 col-xs-6">
                        <div id="echart" style="height:350px;    "></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</block>

<block name="script">
    <script src="__JS__/distpicker.data.js"></script>
    <script src="__VENDOR__/echarts/dist/echarts.min.js"></script>
    <script>
        $("#myModal").on('shown.bs.modal', function () {
            init_echarts();
            var f = echarts.init(document.getElementById("echart"));
            f.setOption({
                title: {text: "沉默用户", subtext: "趋势图"},
                tooltip: {trigger: "axis"},
                legend: {x: 220, y: 40, data: ["沉默用户", "新增用户"]},
                toolbox: {
                    show: !0,
                    feature: {
                        magicType: {
                            show: !0,
                            title: {line: "Line", bar: "Bar", stack: "Stack", tiled: "Tiled"},
                            type: ["line"]
                        }, restore: {show: !0, title: "Restore"}, saveAsImage: {show: !0, title: "Save Image"}
                    }
                },
                calculable: !0,
                xAxis: [{
                    type: "category",
                    boundaryGap: !1,
                    data: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
                }],
                yAxis: [{type: "value"}],
                series: [{
                    name: "新增用户",
                    type: "line",
                    smooth: !0,
                    itemStyle: {normal: {areaStyle: {type: "default"}}},
                    data: [10, 12, 21, 54, 260, 830, 710]
                }, {
                    name: "沉默用户",
                    type: "line",
                    smooth: !0,
                    itemStyle: {normal: {areaStyle: {type: "default"}}},
                    data: [30, 182, 434, 791, 390, 30, 10]
                }
                ]
            })
        });
    </script>
</block>